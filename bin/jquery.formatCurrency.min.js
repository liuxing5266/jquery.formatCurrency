(function(e){e.formatCurrency={};e.formatCurrency.regions=[];e.formatCurrency.regions[""]={symbol:"$",positiveFormat:"%s%n",negativeFormat:"(%s%n)",decimalSymbol:".",digitGroupSymbol:",",groupDigits:true};e.fn.formatCurrency=function(t,i){if(arguments.length==1&&typeof t!=="string"){i=t;t=false}var n={name:"formatCurrency",colorize:false,region:"",global:true,roundToDecimalPlace:2,eventOnDecimalsEntered:false};n=e.extend(n,e.formatCurrency.regions[""]);i=e.extend(n,i);if(i.region.length>0){i=e.extend(i,r(i.region))}i.regex=a(i);return this.each(function(){$this=e(this);var r="0";r=$this[$this.is("input, select, textarea")?"val":"html"]();if(r.search("\\(")>=0){r="-"+r}if(r===""||r==="-"&&i.roundToDecimalPlace===-1){return}if(isNaN(r)){r=r.replace(i.regex,"");if(r===""||r==="-"&&i.roundToDecimalPlace===-1){return}if(i.decimalSymbol!="."){r=r.replace(i.decimalSymbol,".")}if(isNaN(r)){r="0"}}var a=String(r).split(".");var n=r==Math.abs(r);var l=a.length>1;var o=l?a[1].toString():"0";var s=o;r=isNaN(r)?0:r;if(i.roundToDecimalPlace>=0){o=parseFloat("1."+o);o=o.toFixed(i.roundToDecimalPlace);if(o.substring(0,1)=="2"){r=Number(r)+1}o=o.substring(2)}r=parseFloat(r)-parseFloat("0."+o);r=String(r);if(i.groupDigits){for(var c=0;c<Math.floor((r.length-(1+c))/3);c++){r=r.substring(0,r.length-(4*c+3))+i.digitGroupSymbol+r.substring(r.length-(4*c+3))}}if(l&&i.roundToDecimalPlace==-1||i.roundToDecimalPlace>0){r+=i.decimalSymbol+o}var u=n?i.positiveFormat:i.negativeFormat;var g=u.replace(/%s/g,i.symbol);g=g.replace(/%n/g,r);g=g.replace("$","ï¿¥");var m=e([]);if(!t){m=$this}else{m=e(t)}m[m.is("input, select, textarea")?"val":"html"](g);if(l&&i.eventOnDecimalsEntered&&s.length>i.roundToDecimalPlace){m.trigger("decimalsEntered",s)}if(i.colorize){}})};e.fn.toNumber=function(t){var i=e.extend({name:"toNumber",region:"",global:true},e.formatCurrency.regions[""]);t=jQuery.extend(i,t);if(t.region.length>0){t=e.extend(t,r(t.region))}t.regex=a(t);return this.each(function(){var r=e(this).is("input, select, textarea")?"val":"html";e(this)[r](e(this)[r]().replace("(","(-").replace(t.regex,""))})};e.fn.asNumber=function(i){var n=e.extend({name:"asNumber",region:"",parse:true,parseType:"Float",global:true},e.formatCurrency.regions[""]);i=jQuery.extend(n,i);if(i.region.length>0){i=e.extend(i,r(i.region))}i.regex=a(i);i.parseType=t(i.parseType);var l=e(this).is("input, select, textarea")?"val":"html";var o=e(this)[l]();o=o?o:"";o=o.replace("(","(-");o=o.replace(i.regex,"");if(!i.parse){return o}if(o.length==0){o="0"}if(i.decimalSymbol!="."){o=o.replace(i.decimalSymbol,".")}return window["parse"+i.parseType](o)};function r(r){var t=e.formatCurrency.regions[r];if(t){return t}else{if(/(\w+)-(\w+)/g.test(r)){var a=r.replace(/(\w+)-(\w+)/g,"$1");return e.formatCurrency.regions[a]}}return null}function t(e){switch(e.toLowerCase()){case"int":return"Int";case"float":return"Float";default:throw"invalid parseType"}}function a(e){if(e.symbol===""){return new RegExp("[^\\d"+e.decimalSymbol+"-]","g")}else{var r=e.symbol.replace("$","\\$").replace(".","\\.");return new RegExp(r+"|[^\\d"+e.decimalSymbol+"-]","g")}}})(jQuery);